{
  "version": 3,
  "sources": ["dep:@storybook_channel-websocket", "../@storybook/channel-websocket/dist/esm/index.js", "../@storybook/channel-websocket/node_modules/@storybook/client-logger/dist/esm/index.js"],
  "sourcesContent": ["import d from \"./node_modules/@storybook/channel-websocket/dist/esm/index.js\";export default d;\nexport * from \"./node_modules/@storybook/channel-websocket/dist/esm/index.js\"", "import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport global from 'global';\nimport { Channel } from '@storybook/channels';\nimport { logger } from '@storybook/client-logger';\nimport { isJSON, parse, stringify } from 'telejson';\nvar WebSocket = global.WebSocket;\nexport var WebsocketTransport = /*#__PURE__*/function () {\n  function WebsocketTransport(_ref) {\n    var url = _ref.url,\n        onError = _ref.onError;\n\n    _classCallCheck(this, WebsocketTransport);\n\n    this.socket = void 0;\n    this.handler = void 0;\n    this.buffer = [];\n    this.isReady = false;\n    this.connect(url, onError);\n  }\n\n  _createClass(WebsocketTransport, [{\n    key: \"setHandler\",\n    value: function setHandler(handler) {\n      this.handler = handler;\n    }\n  }, {\n    key: \"send\",\n    value: function send(event) {\n      if (!this.isReady) {\n        this.sendLater(event);\n      } else {\n        this.sendNow(event);\n      }\n    }\n  }, {\n    key: \"sendLater\",\n    value: function sendLater(event) {\n      this.buffer.push(event);\n    }\n  }, {\n    key: \"sendNow\",\n    value: function sendNow(event) {\n      var data = stringify(event, {\n        maxDepth: 15,\n        allowFunction: true\n      });\n      this.socket.send(data);\n    }\n  }, {\n    key: \"flush\",\n    value: function flush() {\n      var _this = this;\n\n      var buffer = this.buffer;\n      this.buffer = [];\n      buffer.forEach(function (event) {\n        return _this.send(event);\n      });\n    }\n  }, {\n    key: \"connect\",\n    value: function connect(url, onError) {\n      var _this2 = this;\n\n      this.socket = new WebSocket(url);\n\n      this.socket.onopen = function () {\n        _this2.isReady = true;\n\n        _this2.flush();\n      };\n\n      this.socket.onmessage = function (_ref2) {\n        var data = _ref2.data;\n        var event = typeof data === 'string' && isJSON(data) ? parse(data) : data;\n\n        _this2.handler(event);\n      };\n\n      this.socket.onerror = function (e) {\n        if (onError) {\n          onError(e);\n        }\n      };\n    }\n  }]);\n\n  return WebsocketTransport;\n}();\nexport default function createChannel(_ref3) {\n  var url = _ref3.url,\n      _ref3$async = _ref3.async,\n      async = _ref3$async === void 0 ? false : _ref3$async,\n      _ref3$onError = _ref3.onError,\n      onError = _ref3$onError === void 0 ? function (err) {\n    return logger.warn(err);\n  } : _ref3$onError;\n  var transport = new WebsocketTransport({\n    url: url,\n    onError: onError\n  });\n  return new Channel({\n    transport: transport,\n    async: async\n  });\n}", "import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport global from 'global';\nvar LOGLEVEL = global.LOGLEVEL,\n    console = global.console;\nvar levels = {\n  trace: 1,\n  debug: 2,\n  info: 3,\n  warn: 4,\n  error: 5,\n  silent: 10\n};\nvar currentLogLevelString = LOGLEVEL;\nvar currentLogLevelNumber = levels[currentLogLevelString] || levels.info;\nexport var logger = {\n  trace: function trace(message) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    return currentLogLevelNumber <= levels.trace && console.trace.apply(console, [message].concat(rest));\n  },\n  debug: function debug(message) {\n    for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      rest[_key2 - 1] = arguments[_key2];\n    }\n\n    return currentLogLevelNumber <= levels.debug && console.debug.apply(console, [message].concat(rest));\n  },\n  info: function info(message) {\n    for (var _len3 = arguments.length, rest = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      rest[_key3 - 1] = arguments[_key3];\n    }\n\n    return currentLogLevelNumber <= levels.info && console.info.apply(console, [message].concat(rest));\n  },\n  warn: function warn(message) {\n    for (var _len4 = arguments.length, rest = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      rest[_key4 - 1] = arguments[_key4];\n    }\n\n    return currentLogLevelNumber <= levels.warn && console.warn.apply(console, [message].concat(rest));\n  },\n  error: function error(message) {\n    for (var _len5 = arguments.length, rest = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n      rest[_key5 - 1] = arguments[_key5];\n    }\n\n    return currentLogLevelNumber <= levels.error && console.error.apply(console, [message].concat(rest));\n  },\n  log: function log(message) {\n    for (var _len6 = arguments.length, rest = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n      rest[_key6 - 1] = arguments[_key6];\n    }\n\n    return currentLogLevelNumber < levels.silent && console.log.apply(console, [message].concat(rest));\n  }\n};\nvar logged = new Set();\nexport var once = function once(type) {\n  return function (message) {\n    if (logged.has(message)) return undefined;\n    logged.add(message);\n\n    for (var _len7 = arguments.length, rest = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n      rest[_key7 - 1] = arguments[_key7];\n    }\n\n    return logger[type].apply(logger, [message].concat(rest));\n  };\n};\n\nonce.clear = function () {\n  return logged.clear();\n};\n\nonce.trace = once('trace');\nonce.debug = once('debug');\nonce.info = once('info');\nonce.warn = once('warn');\nonce.error = once('error');\nonce.log = once('log');\nexport var pretty = function pretty(type) {\n  return function () {\n    var argArray = [];\n\n    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n\n    if (args.length) {\n      var startTagRe = /<span\\s+style=(['\"])([^'\"]*)\\1\\s*>/gi;\n      var endTagRe = /<\\/span>/gi;\n      var reResultArray;\n      argArray.push(args[0].replace(startTagRe, '%c').replace(endTagRe, '%c')); // eslint-disable-next-line no-cond-assign\n\n      while (reResultArray = startTagRe.exec(args[0])) {\n        argArray.push(reResultArray[2]);\n        argArray.push('');\n      } // pass through subsequent args since chrome dev tools does not (yet) support console.log styling of the following form: console.log('%cBlue!', 'color: blue;', '%cRed!', 'color: red;');\n      // eslint-disable-next-line no-plusplus\n\n\n      for (var j = 1; j < args.length; j++) {\n        argArray.push(args[j]);\n      }\n    } // eslint-disable-next-line prefer-spread\n\n\n    logger[type].apply(logger, argArray);\n  };\n};\npretty.trace = pretty('trace');\npretty.debug = pretty('debug');\npretty.info = pretty('info');\npretty.warn = pretty('warn');\npretty.error = pretty('error');"],
  "mappings": "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",
  "names": ["import_global", "global", "once", "pretty", "init_esm", "global", "WebsocketTransport"]
}
