{
  "version": 3,
  "sources": ["../../@storybook/addon-a11y/dist/esm/constants.js", "../../@storybook/addon-a11y/dist/esm/a11yRunner.js", "../../@storybook/addon-a11y/dist/esm/highlight.js", "../../@storybook/addon-a11y/dist/esm/a11yHighlight.js", "../../@storybook/addon-a11y/dist/esm/preview.js"],
  "sourcesContent": ["export var ADDON_ID = 'storybook/a11y';\nexport var PANEL_ID = \"\".concat(ADDON_ID, \"/panel\");\nexport var PARAM_KEY = \"a11y\";\nexport var HIGHLIGHT_STYLE_ID = 'a11yHighlight';\nvar RESULT = \"\".concat(ADDON_ID, \"/result\");\nvar REQUEST = \"\".concat(ADDON_ID, \"/request\");\nvar RUNNING = \"\".concat(ADDON_ID, \"/running\");\nvar ERROR = \"\".concat(ADDON_ID, \"/error\");\nvar MANUAL = \"\".concat(ADDON_ID, \"/manual\");\nvar HIGHLIGHT = \"\".concat(ADDON_ID, \"/highlight\");\nexport var EVENTS = {\n  RESULT: RESULT,\n  REQUEST: REQUEST,\n  RUNNING: RUNNING,\n  ERROR: ERROR,\n  MANUAL: MANUAL,\n  HIGHLIGHT: HIGHLIGHT\n};", "import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { EVENTS } from './constants';\nvar document = global.document,\n    globalWindow = global.window;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel(); // Holds axe core running state\n\nvar active = false; // Holds latest story we requested a run\n\nvar activeStoryId;\n/**\n * Handle A11yContext events.\n * Because the event are sent without manual check, we split calls\n */\n\nvar handleRequest = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(storyId) {\n    var _yield$getParams, manual;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getParams(storyId);\n\n          case 2:\n            _yield$getParams = _context.sent;\n            manual = _yield$getParams.manual;\n\n            if (manual) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return run(storyId);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function handleRequest(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar run = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(storyId) {\n    var input, axe, _input$element, element, config, _input$options, options, htmlElement, result;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            activeStoryId = storyId;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return getParams(storyId);\n\n          case 4:\n            input = _context2.sent;\n\n            if (active) {\n              _context2.next = 19;\n              break;\n            }\n\n            active = true;\n            channel.emit(EVENTS.RUNNING);\n            _context2.next = 10;\n            return import('axe-core');\n\n          case 10:\n            axe = _context2.sent.default;\n            _input$element = input.element, element = _input$element === void 0 ? '#root' : _input$element, config = input.config, _input$options = input.options, options = _input$options === void 0 ? {} : _input$options;\n            htmlElement = document.querySelector(element);\n            axe.reset();\n\n            if (config) {\n              axe.configure(config);\n            }\n\n            _context2.next = 17;\n            return axe.run(htmlElement, options);\n\n          case 17:\n            result = _context2.sent;\n\n            // It's possible that we requested a new run on a different story.\n            // Unfortunately, axe doesn't support a cancel method to abort current run.\n            // We check if the story we run against is still the current one,\n            // if not, trigger a new run using the current story\n            if (activeStoryId === storyId) {\n              channel.emit(EVENTS.RESULT, result);\n            } else {\n              active = false;\n              run(activeStoryId);\n            }\n\n          case 19:\n            _context2.next = 24;\n            break;\n\n          case 21:\n            _context2.prev = 21;\n            _context2.t0 = _context2[\"catch\"](1);\n            channel.emit(EVENTS.ERROR, _context2.t0);\n\n          case 24:\n            _context2.prev = 24;\n            active = false;\n            return _context2.finish(24);\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 21, 24, 27]]);\n  }));\n\n  return function run(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/** Returns story parameters or default ones. */\n\n\nvar getParams = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(storyId) {\n    var _ref4, parameters;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return globalWindow.__STORYBOOK_STORY_STORE__.loadStory({\n              storyId: storyId\n            });\n\n          case 2:\n            _context3.t0 = _context3.sent;\n\n            if (_context3.t0) {\n              _context3.next = 5;\n              break;\n            }\n\n            _context3.t0 = {};\n\n          case 5:\n            _ref4 = _context3.t0;\n            parameters = _ref4.parameters;\n            return _context3.abrupt(\"return\", parameters.a11y || {\n              config: {},\n              options: {\n                restoreScroll: true\n              }\n            });\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getParams(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nchannel.on(EVENTS.REQUEST, handleRequest);\nchannel.on(EVENTS.MANUAL, run);", "export var highlightStyle = function highlightStyle(color) {\n  return \"\\n  outline: 2px dashed \".concat(color, \";\\n  outline-offset: 2px;\\n  box-shadow: 0 0 0 6px rgba(255,255,255,0.6);\\n\");\n};\nexport var highlightObject = function highlightObject(color) {\n  return {\n    outline: \"2px dashed \".concat(color),\n    outlineOffset: 2,\n    boxShadow: '0 0 0 6px rgba(255,255,255,0.6),'\n  };\n};", "import \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { STORY_CHANGED } from '@storybook/core-events';\nimport { EVENTS, HIGHLIGHT_STYLE_ID } from './constants';\nimport { highlightStyle } from './highlight';\nvar document = global.document;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel();\n\nvar highlight = function highlight(infos) {\n  var id = HIGHLIGHT_STYLE_ID;\n  resetHighlight(); // Make sure there are no duplicated selectors\n\n  var elements = Array.from(new Set(infos.elements));\n  var sheet = document.createElement('style');\n  sheet.setAttribute('id', id);\n  sheet.innerHTML = elements.map(function (target) {\n    return \"\".concat(target, \"{\\n          \").concat(highlightStyle(infos.color), \"\\n         }\");\n  }).join(' ');\n  document.head.appendChild(sheet);\n};\n\nvar resetHighlight = function resetHighlight() {\n  var id = HIGHLIGHT_STYLE_ID;\n  var sheetToBeRemoved = document.getElementById(id);\n\n  if (sheetToBeRemoved) {\n    sheetToBeRemoved.parentNode.removeChild(sheetToBeRemoved);\n  }\n};\n\nchannel.on(STORY_CHANGED, resetHighlight);\nchannel.on(EVENTS.HIGHLIGHT, highlight);", "import './a11yRunner';\nimport './a11yHighlight';"],
  "mappings": "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",
  "names": ["global", "handleRequest", "run", "getParams", "highlightStyle", "global", "highlight", "resetHighlight"]
}
